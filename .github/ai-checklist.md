# AI エージェント 自己検証チェックリスト

## 📋 作業開始前チェック

- [ ] 関連する CODE_GUIDE.md / AGENTS.md を読み込み済み
- [ ] 既存の類似実装を検索済み（再利用可能性を確認）
- [ ] 影響範囲のファイルと依存関係を特定済み

## 🔧 実装中チェック（ファイル単位）

- [ ] 新規ファイル作成時: 配置ディレクトリが責務に適合
- [ ] 型定義: any/unknown を使用していない（例外時は理由コメント + 代替案検討済み）
- [ ] 関数: 引数・戻り値の型が完全に明示
- [ ] Prisma: スキーマ変更時は `pnpm prisma:generate` 実行済み
- [ ] パッケージ追加時: `pnpm prisma:generate` 実行済み（Prisma Client 再生成）
- [ ] エラー処理: 空 catch / console.error のみ / void async がない

## ✅ 機能完成時チェック

- [ ] 影響範囲のテストを実行: `pnpm test`（該当モジュール）
- [ ] Lint チェック: `pnpm lint` で警告・エラーゼロ
- [ ] ビルド確認: `pnpm build`（backend / frontend）成功
- [ ] Prisma 変更時: `pnpm db:migrate` + `pnpm db:seed` で動作確認

## 🚨 ユーザーフィードバック優先度

- [ ] ユーザーの調査示唆は即座に方針へ反映
- [ ] エラー・警告指摘時は他作業を中断
- [ ] AI 判断とユーザー指示が矛盾した場合は必ずユーザーを優先

## 📝 作業完了前の最終確認

- [ ] すべての品質ゲートを PASS（lint / build / test）
- [ ] 日本語 UI 要件を満たす（メッセージ・コメント）
- [ ] 型安全性: any / unknown / 非 null アサーション / 二段キャストなし
- [ ] ドキュメント更新（README / 設計資料）
- [ ] 変更理由と影響範囲を説明可能

## 📎 証跡提示（必須）

- [ ] 実行したコマンドと結果ログ、または CI 実行 URL を提示
