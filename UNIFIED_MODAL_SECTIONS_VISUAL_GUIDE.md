# UnifiedModal セクション機能 ビジュアルガイド

## セクション機能の視覚的な違い

### Before（従来の手動Divider）

```
┌─────────────────────────────────────┐
│  猫の情報編集                  [×]  │
├─────────────────────────────────────┤
│                                     │
│  名前: [___________]                │
│  メール: [___________]              │
│                                     │
│  ────────────────────────            │  ← 手動で挿入したDivider
│                                     │
│  種別: [▼________]                  │
│  備考: [___________]                │
│       [___________]                 │
│                                     │
│  ────────────────────────            │  ← 手動で挿入したDivider
│                                     │
│              [キャンセル] [保存]    │
│                                     │
└─────────────────────────────────────┘
```

**問題点:**
- セクションの境界が曖昧
- ラベルがなく何のセクションか不明
- 各モーダルで個別管理が必要

---

### After（セクション機能使用）

```
┌─────────────────────────────────────┐
│  猫の情報編集                  [×]  │
├─────────────────────────────────────┤
│                                     │
│  ──────── 基本情報 ────────          │  ← 自動挿入されたラベル付きDivider
│                                     │
│  名前: [___________]                │
│  メール: [___________]              │
│                                     │
│  ──────── 詳細設定 ────────          │  ← 自動挿入されたラベル付きDivider
│                                     │
│  種別: [▼________]                  │
│  備考: [___________]                │
│       [___________]                 │
│                                     │
│  ────────────────────────            │  ← セクション境界（ラベルなし）
│                                     │
│              [キャンセル] [保存]    │
│                                     │
└─────────────────────────────────────┘
```

**改善点:**
- ✅ セクションの境界が明確
- ✅ ラベルでセクションの内容が一目瞭然
- ✅ 自動管理で統一性を保証

---

## 実際のレンダリング例

### 例1: 3セクション構成（すべてラベルあり）

```typescript
const sections = [
  { label: '基本情報', content: <BasicInfo /> },
  { label: '詳細設定', content: <DetailSettings /> },
  { label: '操作', content: <ActionButtons /> },
];
```

**レンダリング結果:**
```
─────── 基本情報 ───────
  <BasicInfo コンテンツ>

─────── 詳細設定 ───────
  <DetailSettings コンテンツ>

─────── 操作 ───────
  <ActionButtons コンテンツ>
```

---

### 例2: ラベルなしセクション混在

```typescript
const sections = [
  { content: <FirstSection /> },                    // ラベルなし
  { label: '設定', content: <SettingsSection /> },  // ラベルあり
  { content: <ButtonSection /> },                   // ラベルなし
];
```

**レンダリング結果:**
```
  <FirstSection コンテンツ>
  （Dividerなし）

─────── 設定 ───────
  <SettingsSection コンテンツ>

────────────────────
  <ButtonSection コンテンツ>
```

---

### 例3: 単一セクション

```typescript
const sections = [
  { label: '編集', content: <EditForm /> },
];
```

**レンダリング結果:**
```
─────── 編集 ───────
  <EditForm コンテンツ>
```

---

## Divider挿入ルール

### ルール1: 2番目以降のセクション
**常にDividerが挿入されます**（ラベルの有無に関わらず）

```typescript
[Section 1]
───────────  ← 挿入される
[Section 2]
───────────  ← 挿入される
[Section 3]
```

### ルール2: 最初のセクション
**ラベルがある場合のみDividerが挿入されます**

```typescript
// ラベルあり
─────── Label ───────  ← 挿入される
[Section 1]

// ラベルなし
[Section 1]            ← 挿入されない
```

---

## スタイリング詳細

### Divider の設定

```typescript
<Divider
  label={section.label}      // セクションラベル
  labelPosition="center"     // ラベルを中央配置
  mb="md"                    // 下マージン（medium）
/>
```

### Stack の設定

```typescript
<Stack gap="md">             // セクション間の間隔
  {/* sections content */}
</Stack>
```

---

## 実装コード比較

### 従来の方法

```tsx
<UnifiedModal opened={opened} onClose={onClose}>
  <TextInput label="名前" />
  <Divider my="xs" />
  <Select label="種別" />
  <Divider />
  <Button>保存</Button>
</UnifiedModal>
```

### セクション機能

```tsx
<UnifiedModal opened={opened} onClose={onClose} sections={[
  {
    label: '基本情報',
    content: <TextInput label="名前" />,
  },
  {
    label: '詳細',
    content: <Select label="種別" />,
  },
  {
    content: <Button>保存</Button>,
  },
]} />
```

---

## 視覚的な利点

### 1. 階層構造の明確化

```
タイトル
├── セクション1（基本情報）
│   ├── フィールドA
│   └── フィールドB
├── セクション2（詳細設定）
│   ├── フィールドC
│   └── フィールドD
└── セクション3（操作）
    └── ボタン群
```

### 2. 情報の整理

大量のフォーム項目を論理的にグループ化:

```
個人情報
  - 氏名
  - メールアドレス
  - 電話番号

住所情報
  - 郵便番号
  - 都道府県
  - 市区町村
  - 番地

その他
  - 備考
```

### 3. ユーザビリティ向上

- 👁️ **視認性**: どこまでが1つのグループか明確
- 🎯 **焦点**: 現在編集中のセクションが分かりやすい
- 📋 **整理**: 情報の分類が視覚的に理解できる

---

## デモで確認

実際の動作は以下のURLで確認できます:

```
http://localhost:3000/demo/unified-modal
```

「セクション付きモーダルを開く（デモ）」ボタンをクリックすると、
実際のセクション機能の見た目と動作を体験できます。

---

## まとめ

セクション機能により:

✅ **視覚的な階層構造** が明確になる
✅ **情報の整理** が容易になる
✅ **ユーザビリティ** が向上する
✅ **開発効率** が向上する
✅ **コードの可読性** が向上する

これらの視覚的な改善により、特に多数のフォーム項目を持つモーダルでの
ユーザー体験が大幅に向上します。
