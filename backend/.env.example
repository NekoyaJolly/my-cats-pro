###############################################
# MyCats Pro Backend - 環境変数テンプレート (最小構成)
# 1. このファイルをコピーして .env を作成してください
# 2. シークレットは `pnpm run generate-secrets` で生成してください
# 3. Git にシークレットをコミットしないでください
###############################################

# ===== 基本設定 (必須) =====
NODE_ENV=development
PORT=3004

# PostgreSQL 接続URL
#
# === ローカル PostgreSQL（開発環境） ===
# ローカル開発では DATABASE_URL のみでOKです。
# 例: postgresql://runner:password@localhost:55432/mycats_development
DATABASE_URL=""
#
# === Supabase使用時（本番環境または開発環境でSupabaseを使う場合） ===
# Supabase を使用する場合は、以下の2つの設定が **両方とも必須** です:
#   - DATABASE_URL: Transaction Pooler 経由（推奨、port 6543）
#   - DIRECT_URL : Direct Connection（マイグレーション用、port 5432）
#
# Supabase Transaction Pooler（本番環境で推奨）
# 例: postgresql://USER:PASSWORD@HOST:6543/DATABASE?pgbouncer=true
# DATABASE_URL="postgresql://USER:PASSWORD@HOST:6543/DATABASE?pgbouncer=true"
#
# Supabase Direct Connection（マイグレーション実行時に必要）
# 例: postgresql://USER:PASSWORD@HOST:5432/DATABASE
# DIRECT_URL="postgresql://USER:PASSWORD@HOST:5432/DATABASE"

# ===== セキュリティシークレット (必須) =====
# 生成コマンド: pnpm run generate-secrets
JWT_SECRET=""
JWT_REFRESH_SECRET=""
CSRF_TOKEN_SECRET=""

# ===== トークン有効期限（必要に応じて変更） =====
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d

# ===== オプション設定 (必要時のみアンコメント) =====
# CORS_ORIGIN=
# LOG_LEVEL=info
# PASSWORD_MIN_LENGTH=8
# CSRF_TOKEN_TTL_SECONDS=600
# ARGON2_MEMORY_COST=65536
# ARGON2_TIME_COST=3
# ARGON2_PARALLELISM=4
# THROTTLE_TTL=60000
# THROTTLE_LIMIT=100
# AUTH_DISABLED=0
# ADMIN_EMAIL=
# ADMIN_PASSWORD=
# ADMIN_FORCE_UPDATE=0
# HEALTH_CHECK_DATABASE=true
# HEALTH_CHECK_MEMORY_THRESHOLD=0.9
# SENTRY_DSN=
# SENTRY_TRACES_SAMPLE_RATE=0.1
# SENTRY_PROFILES_SAMPLE_RATE=0.1

# ===== Google Cloud Storage (ギャラリー機能) =====
# GCS_BUCKET_NAME=mycats-pro-gallery
# GCS_PROJECT_ID=my-cats-pro
# 本番環境では GOOGLE_APPLICATION_CREDENTIALS が自動設定される（Cloud Run）