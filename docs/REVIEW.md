# 機能単位レビュー依頼

## 対象機能
**ページ/機能名**: [例: Pedigree（血統書）ページ]

## レビュー方針
このリポジトリの特定機能について、**UI → API → DB の縦の繋がり**を軸にレビューしてください。
Frontend/Backend の技術レイヤー別ではなく、**1つの機能が正しく動作しているか**を追跡する形式でお願いします。

## 出力形式（必須）

### 1. 全体フロー図
```
UI（ページ/コンポーネント）
    ↓
API Layer（エンドポイント一覧）
    ↓
Backend（Controller → Service → Prisma）
    ↓
Database（テーブル/リレーション）
```
ASCIIアートで視覚的に表現してください。

### 2. UI → API → DB 連携確認表
機能ごとに以下の表形式で：
| UI操作 | API | DB | 状態 |
|--------|-----|-----|------|
| 〇〇入力 | `POST /xxx` | `table. column` | ✅/⚠️/❌ |

### 3. 共通で使用しているファイル
この機能が依存している共通ファイルをリストアップ：
- API関連（client, hooks）
- 型定義
- コンテキスト/状態管理
- DB（Prismaスキーマの該当モデル）

### 4. 問題点・改善提案
発見した問題を重要度別に：
- 🔴 重大（動作に影響）
- 🟡 中程度（技術的負債）
- 🟢 良い実装（参考になる点）

各問題には：
- 問題の説明
- 該当ファイル/行
- 推奨する解決方法

### 5. 未実装/TODOリスト
| 項目 | 状態 | 場所/備考 |
|------|------|----------|
| 〇〇機能 | ❌ 未実装 | 〇〇で必要 |
| △△の整理 | ⚠️ 要対応 | ファイルパス |

### 6. まとめ
```
UI → API → DB の縦の繋がり: ✅/⚠️/❌
共通ファイルの依存関係: ✅/⚠️/❌
未実装/TODO: ✅/⚠️/❌
```
全体評価と最優先で対応すべき項目を明記。

## 調査範囲
以下のファイルを調査対象としてください：
1. **Frontend**: `frontend/src/app/[機能名]/` 配下のページ・コンポーネント
2. **Frontend共通**: `frontend/src/components/[機能名]/` のコンポーネント
3. **API Hooks**: `frontend/src/lib/api/hooks/use-[機能名].ts`
4. **Backend**: `backend/src/[機能名]/` 配下の controller, service, dto, types
5. **DB**: `backend/prisma/schema.prisma` の該当モデル

## 注意事項
- 技術レイヤー（FE/BE）ではなく「機能」を軸にレビュー
- 「この操作をしたときに、どのAPIが呼ばれ、DBのどこに保存されるか」を追跡
- 共通ファイルへの依存も明記（後で影響範囲を把握するため）
- 未実装・TODOは推測ではなく、コード内のコメントや明らかな欠落から判断